<!-- Modern Theme Toggle Component -->
<div class="theme-toggle-container relative">
  <!-- Theme Toggle Button -->
  <button
    id="theme-toggle"
    class="theme-toggle-btn w-14 h-8 bg-bg-secondary border-2 border-border-color rounded-full relative transition-all duration-300 hover:border-primary/30 focus-visible-enhanced group"
    type="button"
    role="switch"
    aria-checked="false"
    aria-label="Toggle theme"
    title="Switch between light and dark theme"
  >
    <!-- Toggle Slider -->
    <div class="theme-slider absolute top-0.5 left-0.5 w-6 h-6 bg-primary rounded-full transition-all duration-300 transform translate-x-0 group-hover:scale-110">
      <!-- Icons Container -->
      <div class="absolute inset-0 flex items-center justify-center">
        <!-- Moon Icon (Dark Theme) -->
        <i class="ri-moon-line text-bg-primary text-sm transition-all duration-300 opacity-100"></i>
        <!-- Sun Icon (Light Theme) -->
        <i class="ri-sun-line text-bg-primary text-sm transition-all duration-300 opacity-0 absolute"></i>
      </div>
    </div>
    
    <!-- Background Icons -->
    <div class="absolute inset-0 flex items-center justify-between px-2 pointer-events-none">
      <i class="ri-sun-line text-xs text-text-muted transition-colors duration-300"></i>
      <i class="ri-moon-line text-xs text-text-muted transition-colors duration-300"></i>
    </div>
  </button>

  <!-- Theme Options Dropdown (Advanced Version) -->
  <div class="theme-options absolute top-full right-0 mt-2 bg-card backdrop-blur-sm border border-border-color rounded-xl shadow-lg p-2 opacity-0 invisible transition-all duration-300 z-50 min-w-48">
    <div class="space-y-1">
      <!-- Auto Theme Option -->
      <button
        class="theme-option w-full flex items-center px-3 py-2 text-left text-text-secondary hover:text-primary hover:bg-primary/5 rounded-lg transition-all duration-200"
        data-theme="auto"
        role="menuitem"
      >
        <i class="ri-computer-line mr-3 text-lg"></i>
        <div class="flex-1">
          <div class="text-sm font-medium">System</div>
          <div class="text-xs opacity-75">Follow system preference</div>
        </div>
        <i class="ri-check-line text-primary opacity-0 transition-opacity duration-200"></i>
      </button>

      <!-- Light Theme Option -->
      <button
        class="theme-option w-full flex items-center px-3 py-2 text-left text-text-secondary hover:text-primary hover:bg-primary/5 rounded-lg transition-all duration-200"
        data-theme="light"
        role="menuitem"
      >
        <i class="ri-sun-line mr-3 text-lg"></i>
        <div class="flex-1">
          <div class="text-sm font-medium">Light</div>
          <div class="text-xs opacity-75">Bright and clean</div>
        </div>
        <i class="ri-check-line text-primary opacity-0 transition-opacity duration-200"></i>
      </button>

      <!-- Dark Theme Option -->
      <button
        class="theme-option w-full flex items-center px-3 py-2 text-left text-text-secondary hover:text-primary hover:bg-primary/5 rounded-lg transition-all duration-200"
        data-theme="dark"
        role="menuitem"
      >
        <i class="ri-moon-line mr-3 text-lg"></i>
        <div class="flex-1">
          <div class="text-sm font-medium">Dark</div>
          <div class="text-xs opacity-75">Easy on the eyes</div>
        </div>
        <i class="ri-check-line text-primary opacity-0 transition-opacity duration-200"></i>
      </button>
    </div>
  </div>
</div>

<!-- Theme Toggle Styles -->
<style>
  /* Theme Toggle Animations */
  .theme-toggle-btn[aria-checked="true"] .theme-slider {
    transform: translateX(1.5rem);
  }

  .theme-toggle-btn[aria-checked="true"] .ri-moon-line {
    opacity: 0;
  }

  .theme-toggle-btn[aria-checked="true"] .ri-sun-line {
    opacity: 1;
  }

  /* Theme Options Dropdown */
  .theme-toggle-container:hover .theme-options {
    opacity: 1;
    visibility: visible;
    transform: translateY(0);
  }

  .theme-options {
    transform: translateY(-8px);
  }

  /* Active Theme Option */
  .theme-option.active {
    background-color: rgba(var(--primary-rgb), 0.1);
    color: var(--primary);
  }

  .theme-option.active .ri-check-line {
    opacity: 1;
  }

  /* Theme Transition Effect */
  .theme-transition-effect {
    position: fixed;
    inset: 0;
    background: radial-gradient(circle at var(--x, 50%) var(--y, 50%), var(--primary) 0%, transparent 70%);
    opacity: 0;
    pointer-events: none;
    z-index: 9999;
    transition: opacity 0.6s ease-out;
  }

  .theme-transition-effect.active {
    opacity: 0.1;
  }

  /* Reduced Motion */
  @media (prefers-reduced-motion: reduce) {
    .theme-slider,
    .theme-options,
    .theme-transition-effect {
      transition-duration: 0.1s;
    }
  }
</style> 